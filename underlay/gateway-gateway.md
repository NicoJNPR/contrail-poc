# Contrail POC
# Underlay - Gateway to Gateway

# Topology

```
   +-------------+
   |  ext-host   |
   | 10.6.21.10  |
   |      /      |
   |   cluster   |
   +-------------+
          |
        br-r1
          |
  +-----------------+-----------------+
  |  xe-0/0/1       |                 |
  |  10.6.21.254/24 |                 |
  |                                   |
  | vmx-2 (Gateway-2)                 |
  |  em0: 10.6.8.41                   |
  |  lo0: 10.6.0.41                   |
  |  ASN: 64041                       |
  |                                   |
  |  10.6.30.1/31   |                 |
  |  xe-0/0/0       |                 |
  +-----------------+-----------------+
        |
        |
   =====+=====
        |
        |
  +-----------------+-----------------+
  |  xe-0/0/0       |                 |
  |  10.6.30.0/31   |                 |
  |                                   |
  | vmx-1 (Gateway-1)                 |
  |  em0: 10.6.8.31                   |
  |  lo0: 10.6.0.31                   |
  |  ASN: 64031                       |
  |                                   |
  |  10.6.11.254/24 |                 |
  |  xe-0/0/1       |                 |
  +-----------------+-----------------+
        |
      br-r1
        |
   +---------+
   | cluster |
   +---------+
        |
        |                    management:      10.6.8.0/24
      br-int                 loopback:        10.6.0.0/24
    10.6.8.254               gateway-leaf:    10.6.20.0/24
        |                    gateway-gateway: 10.6.30.0/24
        |                    rack-1:          10.6.11.0/24
     HAProxy

```


# Resource
```
                  vCPU    memory(GB)    disk(GB)    OS
vmx-1-re           1         1                     Junos 18.3R1.9
vmx-1-pfe          4         2                     Junos 18.3R1.9
vmx-2-re           1         1                     Junos 18.3R1.9
vmx-2-pfe          4         2                     Junos 18.3R1.9
----------------------------------------------------------------
Total             10         6
```

